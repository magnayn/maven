 ----
 Guides
 -----
 Jason van Zyl
 -----
 12 October 2005
 -----

Guides

* Guide to using multiple repositories

 There are two different ways that you can specify the use of multiple repositories. The first
 is to specify

+----+

<project>
...
  <repositories>
    <repository>
      <id>my-repo1</id>
      <name>your custom repo</name>
      <url>http://jarsm2.dyndns.dk</url>
    </repository>
    <repository>
      <id>my-repo2</id>
      <name>your custom repo</name>
      <url>http://jarsm2.dyndns.dk</url>
    </repository>
  </repositories>
...
</project>

+----+



if you specify repositories in profiles you must remember to activate that
particular profile! and the use of mirrors

* 

* Guide to using project properties

Actually, no. It's *like* the properties defined in profiles in syntax,
but this is a properties section that is specified as a direct child of
the <project> element. So:

+----+

<project>
  ...
  <properties>
    <name>value</name>
  </properties>
</project>

+----+

* Guide to project inheritance

Profile inheritance the same as standard inheritence and resources sets are currently not
inherited.

DefaultModelInheritenceAssembler.

Merged:
- dependencies
- developers and contributors
- plugin lists (including reports)
- plugin executions with matching ids
- plugin configuration

* Guide to system properties

 System vars are accessed implicitly in m2...try:

+----+

<configuration>
  <debug>${build.debug}</debug>
  <source>${build.jdk}</source>
  <target>${build.jdk}</target>
</configuration>

+----+

==

How do I get the list of artifacts within my plugin?

You must use the @requiresDependencyResolution tag in your plugin.

==

How to best setup a multi-module build and make versions easiest to manage


==

Integrate Jesse's archetype work.

And how do I make archetypes for use in my organization?

==


==

How to get started behind an NTLM proxy.

use the fat http client and add it as an extension to the POM. Do we
support ntmlv2:

http://www.mail-archive.com/httpclient-dev@jakarta.apache.org/msg01861.html

==

Using extensions and why they are needed.

==

How to use Ant constructs from m2.

==

* How maven's classloaders work

 To add a bit of detail for a volunteer to submit as documentation... :)

 m2/core/boot is what is in the java classpath (ie, just classworlds,
 which constructs classloaders for the rest of the system)

 the top level classloader contains plexus container and plexus utils
 (see m2/core), and also has access to classworlds

 the next classloader has the libraries in m2/lib (a bug in beta 1
 incorporated commons-logging and -lang, sorry about that!) In general
 these are just maven libraries. We hope to further separate these in
 future to just be maven apis.

 after that, each plugin has its own classloader, including its
 dependencies, itself, and the libraries above. It *does not* contain
 the project dependencies like in m1, but instead has access to a list
 of JAR files in case they are needed.

 In addition, a project can list "extensions". These are loaded into
 the same place as m2/lib and so available to the maven core and all
 plugins for the currnet project and subsequent projects (in future, we
 plan to remove it from subsequent projects).


==

How artifact resolution works, this would be a long one more advanced in
scope.

==


==

When creating your own lifecycles:

This is a missing instruction on the build lifecycle page. You need to
add the plugin to the project, <extensions>true</extensions>

==

How snapshots works

==

How do i use the lifecycle provided by a plugin:

make sure you turn on the extension option

         <packaging>nbm</packaging>, <build><plugins><plugin><groupId/><artifactId/><extensions>true</extensions></plugin></plugins></build>

==

What expressions are available for use in the mojos?

           <jason> maybe i can generate doco from @tags in the expression evaluator or something
<jason> that's where it's localized right?
<jdcasey> um, sort of
<jdcasey> we have the roots there, but we're using the ReflectionValueExtractor from there
<jdcasey> it can easily get pretty ugly
<jason> i'll make a list of those
<jdcasey> I'm thinking of making a mapping resource for expressions, for use in the error diagnoser...maybe we can reuse that?
<jason> of the ones that are not referenced in the plugin expression evaluator where can i find them?
<jason> sure
<jason> a single place would be nice
<jdcasey> they're (a) listed in the expression evaluator, (b) available as POM properties, (c) available as system properties, or (d) available reflectively from the api rooted in one of the four or five data objects
<jdcasey> yup, I think we need that

note from andy

             Jason,

Follow up to our irc chat about suggesting that windows m2 users move their
repos to a location without embedded spaces. I think it would be helpful to
people if we were to place a notification about this in a prominent place
on the M2 site and in the getting started guide.  Parting of the marketing
chat could be "Windows M2 Users Prepare for surefire and Java compiler
forking by moving your M2 repository to a file system location that doesn't
contain embedded spaces!"

The default user.home on windows is c:\documents and settings\<username>\

The repo location can be changed in the settings.xml file located at
${user.home}/.m2/settings.xml

I've pasted an example of a trivial modified settings.xml file below.

<settings>
   <localRepository>F:\m2-repository\repository</localRepository>
</settings>

==

example of generating sources

==

How to modify the manifest.

~~ * How do I deal with a dependency that is already supplied by my runtime?

~~* How do I deploy my jar in Ibiblio?

~~* How do I internationalize my site?

+-----+

~~ How to do a test release and deployment. Trying to work through this with raphael at the moment.
