<?xml version="1.0"?>
<!-- 
/*
 * Copyright 2001-2004 The Apache Software Foundation.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *      http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
 -->


<document>

<properties>
  <title>Release process</title>
  <author email="dlr@finemaltcoding.com">Daniel Rall</author>
</properties>

<body>

<section name="Release process">

<p>
  Consider the following to be something of a checklist.

  Turbine's release process consists of tagging one or more version
  control modules (Turbine and its dependencies).  For the 2.x
  development path, the module list to consider for tagging consists
  of the following:
  <ul>
    <li>jakarta-turbine-2</li>
    <li>jakarta-turbine-fulcrum</li>
    <li>jakarta-turbine-torque</li>
    <li>jakarta-turbine-stratum</li>
    <li>jakarta-turbine-maven</li>
  </ul>
  <!-- HELP: What about the TDK? -->

  After tagging the release (or each module), take a few minimal steps
  to assure that the archives are in the expected place and valid.

  Announce your release via news outlets such as web page changes,
  email announcements, press releases, etc.  For instance, many Apache
  projects update the <i>jakarta-site2/xdocs/site/news.xml</i>
  document and their <a href="http://freshmeat.net/">Freshmeat</a>
  entry.
</p>

</section>

<section name="Tagging an individual module">

<ol>
  <li>
    Send email to the development mailing list announcing a version
    control freeze for tagging.
  </li>
  <li>
    Check out fresh working copy of CVS module you're going to tag.
  </li>
  <li>
    Set the release version number in Maven project.xml and/or Ant
    default.properties.  For example, 3.0-dev would become 3.0-b1 or
    3.0-rc1.
  </li>
  <li>
    Update any dependency changes (possibly caused by previous module
    tagging).  For Maven, this consists of modifying the
    <code>version</code> and <code>jar</code> attributes of each
    <code>dependency</code> element.
  </li>
  <li>
    Perform a successful build and test suite execution, and run the
    <i>clean</i> target to remove any generated files.
  </li>
  <li>
    Commit your changes to the version control repository.
  </li>
  <li>
    Tag the release via <code>cvs -q tag
    <i>PROJECT_VERSION_MODIFIER</i></code>.  An example release tag is
    <i>TURBINE_2_2_B1</i> or <i>TURBINE_3_0_RC1</i>.
  </li>
  <li>
    Set the next development version number in Maven project.xml
    and/or Ant default.properties and commit the change to the version
    control repository.  For example, 3.0-b1 would become 3.0-b2-dev.
  </li>
  <li>
    Send email to the development mailing list announcing completion
    of the tag.
  </li>
</ol>

</section>

</body>
</document>
